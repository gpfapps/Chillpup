<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Tasks</title>
    <script src='//whephiwums.com/sdk.js' data-zone='9227916' data-sdk='show_9227916'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- [Rest of the head section remains the same] -->
</head>
<body>
    <!-- [Previous HTML remains the same until the script section] -->

    <script>
        const tasks = [
            /* [Your tasks array remains the same] */
        ];
        
        const balanceElement = document.getElementById('balance');
        const taskList = document.getElementById('task-list');

        function loadBalance() {
            const balance = parseInt(localStorage.getItem('balance')) || 0;
            balanceElement.textContent = balance;
        }

        function completeTask(button, id, points, url) {
            show_9227916().then(() => {
                // Reward after ad
                window.open(url, '_blank');
                const claimed = JSON.parse(localStorage.getItem('claimedTasks') || '[]');
                if (!claimed.includes(id)) {
                    claimed.push(id);
                    localStorage.setItem('claimedTasks', JSON.stringify(claimed));
                    const newBalance = parseInt(localStorage.getItem('balance')) + points;
                    localStorage.setItem('balance', newBalance);
                    balanceElement.textContent = newBalance;
                }
                button.disabled = true;
                button.textContent = 'âœ… Claimed';
            }).catch(error => {
                console.error('Ad error:', error);
                alert('Please watch the ad to complete this task.');
            });
        }

        /* [Rest of the script remains the same] */
    </script>
</body>
</html>
